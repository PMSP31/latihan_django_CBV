{% load static %}

<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark" id="myNav">
  <div class="container">
    <a class="navbar-brand" href="{% url 'index' %}"> Blog </a>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a
            class="nav-link {% if request.resolver_match.view_name == 'index' %}active{% endif %}"
            href="{% url 'index' %}"
            >Home</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link {% if request.resolver_match.view_name == 'article:list' %}active{% endif %}"
            href="{% url 'article:list' 1 %}"
            >Article</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link {% if request.resolver_match.view_name == 'admin:index' %}active{% endif %}"
            href="{% url 'admin:index' %}"
            >Admin</a
          >
        </li>
      </ul>
      {% if user.is_authenticated %}
      <div class="nav-item dropdown ml-auto">
        <a
          class="nav-link dropdown-toggle text-light"
          href="#"
          id="navbarDropdown"
          role="button"
          data-toggle="dropdown"
          aria-expanded="false"
        >
          {{user.get_username}}
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url 'article:create' %}"
            >Create Article</a
          >
          <a class="dropdown-item" href="{% url 'article:manage' %}"
            >Manage Article</a
          >
          <a class="dropdown-item text-danger" href="{% url 'logout' %}"
            >Log Out</a
          >
        </div>
      </div>
      {% endif %}
    </div>
  </div>
</nav>
